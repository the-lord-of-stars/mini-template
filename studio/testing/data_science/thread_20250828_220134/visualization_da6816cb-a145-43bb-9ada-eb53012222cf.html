<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"mark": {"type": "bar"}, "encoding": {"color": {"field": "paid_bool", "scale": {"domain": [false, true], "range": ["#1f77b4", "#ff7f0e"]}, "title": "Paid", "type": "nominal"}, "tooltip": [{"field": "paid_bool", "title": "Paid", "type": "nominal"}, {"field": "reading_time_bin", "title": "Reading time bin", "type": "nominal"}, {"field": "median_eng", "format": ".1f", "title": "Median engagement", "type": "quantitative"}, {"field": "p90_eng", "format": ".1f", "title": "90th pct engagement", "type": "quantitative"}, {"field": "mean_claps", "format": ".1f", "title": "Avg claps", "type": "quantitative"}, {"field": "mean_responses", "format": ".2f", "title": "Avg responses", "type": "quantitative"}, {"field": "article_count", "title": "Article count", "type": "quantitative"}], "x": {"field": "reading_time_bin", "sort": ["1-3", "4-6", "7-9", "10+"], "title": "Reading time (minutes)", "type": "nominal"}, "y": {"field": "median_eng", "title": "Median engagement score", "type": "quantitative"}}, "height": 240, "width": 300}, {"layer": [{"mark": {"type": "line", "point": false}, "encoding": {"color": {"field": "paid_bool", "scale": {"domain": [false, true], "range": ["#1f77b4", "#ff7f0e"]}, "title": "Paid", "type": "nominal"}, "detail": {"field": "paid_bool", "type": "nominal"}, "x": {"field": "reading_time_bin", "sort": ["1-3", "4-6", "7-9", "10+"], "title": "Reading time (minutes)", "type": "nominal"}, "y": {"field": "p90_eng", "title": "90th percentile engagement", "type": "quantitative"}}}, {"mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "paid_bool", "legend": null, "scale": {"domain": [false, true], "range": ["#1f77b4", "#ff7f0e"]}, "type": "nominal"}, "size": {"field": "article_count", "scale": {"range": [30, 300]}, "title": "Article count", "type": "quantitative"}, "tooltip": [{"field": "paid_bool", "title": "Paid", "type": "nominal"}, {"field": "reading_time_bin", "title": "Reading time bin", "type": "nominal"}, {"field": "p90_eng", "format": ".1f", "title": "90th pct engagement", "type": "quantitative"}, {"field": "article_count", "title": "Article count", "type": "quantitative"}], "x": {"field": "reading_time_bin", "sort": ["1-3", "4-6", "7-9", "10+"], "type": "nominal"}, "y": {"field": "p90_eng", "type": "quantitative"}}}], "height": 240, "width": 300}], "data": {"name": "data-b5576b4cf22b93b8a1494668c279e589"}, "resolve": {"scale": {"color": "shared"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-b5576b4cf22b93b8a1494668c279e589": [{"paid_bool": false, "reading_time_bin": "1-3", "median_eng": 54.5, "p90_eng": 325.0, "mean_claps": 171.84978540772534, "mean_responses": 1.1984978540772533, "article_count": 1864}, {"paid_bool": false, "reading_time_bin": "4-6", "median_eng": 94.0, "p90_eng": 623.3999999999996, "mean_claps": 268.18271933718006, "mean_responses": 1.8334073087734872, "article_count": 6759}, {"paid_bool": false, "reading_time_bin": "7-9", "median_eng": 112.5, "p90_eng": 857.5, "mean_claps": 391.1990616621984, "mean_responses": 2.5679177837354783, "article_count": 4476}, {"paid_bool": false, "reading_time_bin": "10+", "median_eng": 149.0, "p90_eng": 1340.0, "mean_claps": 547.5192546583851, "mean_responses": 3.3546583850931677, "article_count": 3220}, {"paid_bool": true, "reading_time_bin": "1-3", "median_eng": 58.5, "p90_eng": 358.0, "mean_claps": 149.08442265795208, "mean_responses": 0.9869281045751634, "article_count": 1836}, {"paid_bool": true, "reading_time_bin": "4-6", "median_eng": 82.0, "p90_eng": 422.0, "mean_claps": 192.8482273659537, "mean_responses": 1.2406973337239964, "article_count": 13652}, {"paid_bool": true, "reading_time_bin": "7-9", "median_eng": 102.0, "p90_eng": 548.6000000000004, "mean_claps": 251.1282766313441, "mean_responses": 1.543223647518126, "article_count": 8965}, {"paid_bool": true, "reading_time_bin": "10+", "median_eng": 120.0, "p90_eng": 617.4000000000005, "mean_claps": 276.41869229319764, "mean_responses": 1.732617297908423, "article_count": 5307}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>