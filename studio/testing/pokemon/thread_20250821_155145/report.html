<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Research Report: Automated Visualization</title>
  <script src='https://cdn.jsdelivr.net/npm/vega@5'></script>
  <script src='https://cdn.jsdelivr.net/npm/vega-lite@5'></script>
  <script src='https://cdn.jsdelivr.net/npm/vega-embed@6'></script>
  <script src='https://cdn.tailwindcss.com'></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          typography: ({ theme }) => ({
            DEFAULT: { css: { color: theme('colors.gray.800') } }
          })
        }
      }
    }
  </script>
</head>
<body class='bg-white text-gray-800'>
  <div id='progress-bar' class='fixed top-0 left-0 h-1 bg-black z-[9999]' style='width:0%'></div>  <nav class='sticky top-0 bg-white border-b border-gray-200 z-50'>
    <div class='w-[95%] mx-auto px-6 py-3 flex justify-between items-center'>
      <a href='#' class='font-bold text-lg'>Agentic VIS Report</a>
      <div class='hidden md:flex items-center space-x-10 text-sm'>
        <a href='https://www.visagent.org/' target='_blank' class='hover:text-primary-600 text-lg'>Challenge</a>
        <a href='https://github.com/the-lord-of-stars/mini-template' target='_blank'>
          <img src='https://cdnjs.cloudflare.com/ajax/libs/simple-icons/9.16.0/github.svg' alt='GitHub' class='w-6 h-6'>
        </a>
      </div>
      <button id='menu-btn' class='md:hidden flex items-center focus:outline-none'>
        <svg xmlns='http://www.w3.org/2000/svg' class='w-6 h-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
          <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' />
        </svg>
      </button>
    </div>
    <div id='mobile-menu' class='hidden md:hidden bg-white border-t border-gray-200'>
      <div class='px-6 py-3 flex flex-col space-y-4'>
        <a href='https://www.visagent.org/' target='_blank' class='hover:text-primary-600 text-lg'>Official Challenge Website</a>
        <a href='https://github.com/the-lord-of-stars/mini-template' target='_blank' class='flex items-center space-x-4'>
          <img src='https://cdnjs.cloudflare.com/ajax/libs/simple-icons/9.16.0/github.svg' alt='GitHub' class='w-6 h-6'>
          <span class='text-lg'>Project GitHub Repo</span>
        </a>
      </div>
    </div>
  </nav>
  <script>
    const btn = document.getElementById('menu-btn');
    const menu = document.getElementById('mobile-menu');
    btn.addEventListener('click', () => { menu.classList.toggle('hidden'); });
  </script>
  <nav class='hidden lg:block fixed top-20 left-6 w-[15%] h-[80vh] overflow-y-auto
               p-4 text-sm'
       aria-label='Table of contents'>
    <h2 class='font-semibold text-gray-900 mb-3'>Table of contents</h2>
    <ol id='toc-list' class='space-y-2'></ol>
  </nav>
  <main class='w-[90%] max-w-3xl mx-auto px-6 py-12 lg:w-[75%] lg:ml-[20%] lg:max-w-none lg:mx-0'>
    <header class='text-center mb-12'>
      <h1 class='text-4xl font-bold text-gray-900 mb-4'>How to choose your best battle team (6-Pokemon)?</h1>
       <p class='text-lg text-gray-600'>Generated on 2025-08-21 </p>
    </header>
    <article class='prose prose-lg prose-gray'>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    1. Executive summary & key takeaways
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">This dataset profiles 800 Pokémon base stats and types to answer: how do you pick a competitive six‑Pokémon team that balances offense, defense, speed tiers and type coverage while avoiding shared weaknesses? High‑level takeaways are actionable: prioritize diverse type coverage (target ~10+ distinct attack types across the team), balance roles (include 1–2 fast sweepers and 1 bulky pivot while the rest are mixed or specialized attackers), manage speed tiers using empirical thresholds (use the 80th–90th percentile speed to define sweepers), and avoid stacking strong shared weaknesses (allow at most one raw 4× shared weakness across the six). Data-driven recommendations: pick some heavy bulk (top 10–15% by Bulk index) to anchor your team, select sweepers from the top ~10% by Speed if you need elite priority, and use greedy or multi-objective selection methods depending on whether you value coverage or survivability. These rules-of-thumb come from distributions, clustering, type-coverage simulations and automated-team experiments documented below.</p>
    </div>
  </div>
</section>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    2. Data, cleaning, and derived features
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">The dataset includes identifying fields (Name, #), categorical types (Type 1, Type 2), generation and Legendary flag, plus numeric stats (Total, HP, Attack, Defense, Sp. Atk, Sp. Def, Speed). Known quirks and preprocessing steps applied: trim whitespace in Name and Type fields, normalize missing Type 2 to None, cast stat columns to numeric and rename Sp. Atk / Sp. Def consistently. Derived features used throughout the report are: Offensive balance = average of Attack and Sp. Atk, Defensive balance = average of Defense and Sp. Def, Bulk index = HP * (Defense + Sp. Def) / 2, Speed tier buckets (Slow <50, Mid 50–100, Fast >100), Glass-cannon flag (fast and low defenses), and team-level type coverage (count of distinct attacking types present). Standardization (z-scoring) is recommended before clustering and distance calculations.</p>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-2-1'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-2-1', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Detect cleaning issues: missing Type 2, extra whitespace in Name/Type fields, and non-numeric stat values.", "vconcat": [{"hconcat": [{"data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv"}, "transform": [{"calculate": "trim(datum['Type 2'] === null ? '' : String(datum['Type 2']))", "as": "Type2_trim"}, {"calculate": "(Type2_trim == '' ) ? 'None' : Type2_trim", "as": "Type2_norm"}], "mark": "bar", "encoding": {"x": {"field": "Type2_norm", "type": "nominal", "title": "Type 2 (normalized)"}, "y": {"aggregate": "count", "type": "quantitative", "title": "Count"}, "tooltip": [{"field": "Type2_norm", "type": "nominal"}, {"aggregate": "count", "type": "quantitative", "title": "Count"}]}, "width": 300, "height": 220, "title": "Distribution of Type 2 (missing -> 'None')"}, {"data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv"}, "transform": [{"calculate": "trim(String(datum['Name']))", "as": "Name_trim"}, {"calculate": "trim(String(datum['Type 1']))", "as": "Type1_trim"}, {"calculate": "trim(datum['Type 2'] === null ? '' : String(datum['Type 2']))", "as": "Type2_trim"}, {"calculate": "(String(datum['Name']) !== Name_trim)", "as": "name_ws"}, {"calculate": "(String(datum['Type 1']) !== Type1_trim)", "as": "type1_ws"}, {"calculate": "( (datum['Type 2'] === null) ? false : (String(datum['Type 2']) !== Type2_trim) )", "as": "type2_ws"}, {"fold": ["name_ws", "type1_ws", "type2_ws"], "as": ["field", "has_ws"]}, {"filter": "datum.has_ws == true"}], "mark": "bar", "encoding": {"x": {"field": "field", "type": "nominal", "title": "Field (whitespace issue)"}, "y": {"aggregate": "count", "type": "quantitative", "title": "Count of rows with extra whitespace"}, "tooltip": [{"field": "field", "type": "nominal"}, {"aggregate": "count", "type": "quantitative", "title": "Count"}]}, "width": 300, "height": 220, "title": "Counts of leading/trailing whitespace by field"}, {"data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv"}, "transform": [{"calculate": "isNaN(toNumber(datum['Total']))", "as": "Total_err"}, {"calculate": "isNaN(toNumber(datum['HP']))", "as": "HP_err"}, {"calculate": "isNaN(toNumber(datum['Attack']))", "as": "Attack_err"}, {"calculate": "isNaN(toNumber(datum['Defense']))", "as": "Defense_err"}, {"calculate": "isNaN(toNumber(datum['Sp. Atk']))", "as": "SpAtk_err"}, {"calculate": "isNaN(toNumber(datum['Sp. Def']))", "as": "SpDef_err"}, {"calculate": "isNaN(toNumber(datum['Speed']))", "as": "Speed_err"}, {"fold": ["Total_err", "HP_err", "Attack_err", "Defense_err", "SpAtk_err", "SpDef_err", "Speed_err"], "as": ["stat", "error"]}, {"filter": "datum.error == true"}], "mark": "bar", "encoding": {"x": {"field": "stat", "type": "nominal", "title": "Stat"}, "y": {"aggregate": "count", "type": "quantitative", "title": "Count of parsing failures"}, "tooltip": [{"field": "stat", "type": "nominal"}, {"aggregate": "count", "type": "quantitative", "title": "Count"}]}, "width": 360, "height": 220, "title": "Parsing failures in stat columns (non-numeric)"}]}, {"data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv"}, "transform": [{"calculate": "trim(String(datum['Name']))", "as": "Name_trim"}, {"calculate": "trim(String(datum['Type 1']))", "as": "Type1_trim"}, {"calculate": "trim(datum['Type 2'] === null ? '' : String(datum['Type 2']))", "as": "Type2_trim"}, {"calculate": "isNaN(toNumber(datum['Total'])) || isNaN(toNumber(datum['HP'])) || isNaN(toNumber(datum['Attack'])) || isNaN(toNumber(datum['Defense'])) || isNaN(toNumber(datum['Sp. Atk'])) || isNaN(toNumber(datum['Sp. Def'])) || isNaN(toNumber(datum['Speed']))", "as": "has_stat_error"}, {"calculate": "(String(datum['Name']) !== Name_trim) || (String(datum['Type 1']) !== Type1_trim) || ((datum['Type 2'] === null) ? false : (String(datum['Type 2']) !== Type2_trim))", "as": "has_ws"}, {"calculate": "(isNaN(toNumber(datum['Total'])) ? 'Total ' : '') + (isNaN(toNumber(datum['HP'])) ? 'HP ' : '') + (isNaN(toNumber(datum['Attack'])) ? 'Attack ' : '') + (isNaN(toNumber(datum['Defense'])) ? 'Defense ' : '') + (isNaN(toNumber(datum['Sp. Atk'])) ? 'Sp. Atk ' : '') + (isNaN(toNumber(datum['Sp. Def'])) ? 'Sp. Def ' : '') + (isNaN(toNumber(datum['Speed'])) ? 'Speed ' : '')", "as": "error_details"}, {"filter": "datum.has_stat_error || datum.has_ws"}], "mark": {"type": "text", "align": "left", "baseline": "middle"}, "encoding": {"y": {"field": "Name_trim", "type": "nominal", "title": "Pok\u00e9mon (trimmed name)", "sort": "-y"}, "text": {"field": "error_details", "type": "nominal", "title": "Detected issues (stat parsing)"}, "tooltip": [{"field": "Name_trim", "type": "nominal"}, {"field": "Type1_trim", "type": "nominal", "title": "Type 1 (trimmed)"}, {"field": "Type2_trim", "type": "nominal", "title": "Type 2 (trimmed)"}, {"field": "error_details", "type": "nominal", "title": "Parsing issues"}]}, "width": 960, "height": 360, "title": "Rows with whitespace or stat parsing errors (error details)"}]}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">The cleaning-detection visualization inspects missing and whitespace issues plus numeric parsing of stat columns. The dataset has many missing secondary types: 386 of 800 rows (48.2%) had no Type 2 and were normalized to 'None', while Name and Type 1 required no trimming. Stat columns parsed cleanly with zero non-numeric failures, so the numeric fields are ready for computation. The diagnostic table listing rows with whitespace or stat parsing issues primarily flagged the missing Type 2 entries; there were no parsing failures in Total, HP, Attack, Defense, Sp. Atk, Sp. Def or Speed. In practice this confirms that trimming and filling Type 2= None is the main preprocessing step and that numeric casting is safe.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-2-2'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-2-2', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Distributions and thresholds for derived features: Offensive balance, Defensive balance, Bulk index, Speed tiers, Glass-cannon flag.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "(datum.Attack + datum['Sp. Atk']) / 2", "as": "OffensiveBalance"}, {"calculate": "(datum.Defense + datum['Sp. Def']) / 2", "as": "DefensiveBalance"}, {"calculate": "datum.HP * (datum.Defense + datum['Sp. Def']) / 2", "as": "BulkIndex"}, {"calculate": "datum.Speed < 50 ? 'Slow' : (datum.Speed <= 100 ? 'Mid' : 'Fast')", "as": "SpeedTier"}, {"calculate": "(datum.Speed > 100 && (datum.Defense + datum['Sp. Def'] < 120)) ? 'Glass' : 'Normal'", "as": "GlassFlag"}], "vconcat": [{"hconcat": [{"title": "Offensive balance distribution", "layer": [{"transform": [{"density": "OffensiveBalance", "groupby": ["SpeedTier"]}], "mark": {"type": "area", "interpolate": "monotone"}, "encoding": {"x": {"field": "value", "type": "quantitative", "title": "Offensive balance"}, "y": {"field": "density", "type": "quantitative", "title": "Density"}, "color": {"field": "SpeedTier", "type": "nominal"}, "opacity": {"value": 0.6}, "tooltip": [{"field": "value", "type": "quantitative", "title": "Offensive balance"}, {"field": "density", "type": "quantitative", "title": "density"}, {"field": "SpeedTier", "type": "nominal", "title": "Speed tier"}]}}, {"transform": [{"density": "OffensiveBalance"}], "mark": {"type": "line", "color": "black", "opacity": 0.6}, "encoding": {"x": {"field": "value", "type": "quantitative"}, "y": {"field": "density", "type": "quantitative"}}}]}, {"title": "Defensive balance distribution", "layer": [{"transform": [{"density": "DefensiveBalance", "groupby": ["SpeedTier"]}], "mark": {"type": "area", "interpolate": "monotone"}, "encoding": {"x": {"field": "value", "type": "quantitative", "title": "Defensive balance"}, "y": {"field": "density", "type": "quantitative", "title": "Density"}, "color": {"field": "SpeedTier", "type": "nominal"}, "opacity": {"value": 0.6}, "tooltip": [{"field": "value", "type": "quantitative", "title": "Defensive balance"}, {"field": "density", "type": "quantitative", "title": "density"}, {"field": "SpeedTier", "type": "nominal", "title": "Speed tier"}]}}, {"mark": {"type": "rule", "color": "red", "strokeDash": [4, 4]}, "encoding": {"x": {"value": 60}, "tooltip": [{"value": "Defensive balance threshold (60)", "type": "nominal"}]}}, {"transform": [{"density": "DefensiveBalance"}], "mark": {"type": "line", "color": "black", "opacity": 0.6}, "encoding": {"x": {"field": "value", "type": "quantitative"}, "y": {"field": "density", "type": "quantitative"}}}]}]}, {"title": "Offensive vs Defensive (Bulk size, Speed tier, Glass-cannon)", "layer": [{"mark": {"type": "point", "filled": true}, "encoding": {"x": {"field": "OffensiveBalance", "type": "quantitative", "title": "Offensive balance"}, "y": {"field": "DefensiveBalance", "type": "quantitative", "title": "Defensive balance"}, "size": {"field": "BulkIndex", "type": "quantitative", "title": "Bulk index", "scale": {"range": [20, 900]}}, "color": {"field": "SpeedTier", "type": "nominal"}, "shape": {"field": "GlassFlag", "type": "nominal"}, "opacity": {"condition": {"selection": "hover", "value": 1}, "value": 0.5}, "tooltip": [{"field": "Name", "type": "nominal"}, {"field": "Type 1", "type": "nominal"}, {"field": "Type 2", "type": "nominal"}, {"field": "OffensiveBalance", "type": "quantitative", "title": "Offensive balance"}, {"field": "DefensiveBalance", "type": "quantitative", "title": "Defensive balance"}, {"field": "BulkIndex", "type": "quantitative", "title": "Bulk index"}, {"field": "Speed", "type": "quantitative"}, {"field": "GlassFlag", "type": "nominal"}]}}, {"mark": {"type": "rule", "color": "red", "strokeDash": [4, 4]}, "encoding": {"y": {"value": 60}, "tooltip": [{"value": "Defensive balance threshold (60)", "type": "nominal"}]}}], "selection": {"hover": {"type": "single", "on": "mouseover", "empty": "none"}}}, {"title": "Glass-cannon counts", "transform": [{"aggregate": [{"op": "count", "as": "count"}], "groupby": ["GlassFlag"]}], "mark": "bar", "encoding": {"y": {"field": "GlassFlag", "type": "nominal", "title": null}, "x": {"field": "count", "type": "quantitative", "title": "Number of Pok\u00e9mon"}, "color": {"field": "GlassFlag", "type": "nominal", "legend": null}}}], "config": {"axis": {"labelFontSize": 12, "titleFontSize": 13}, "legend": {"titleFontSize": 12, "labelFontSize": 11}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Distributions of derived features show practical thresholds and archetypes. Offensive balance centers near 76 (median 73.25) with a broad spread (std ≈27), while Defensive balance centers near 73 (median 70) with similar spread, so many Pokémon occupy varied offense/defense roles. Bulk index is highly skewed: mean ≈5,277, median 4,800 and a long tail with top values like Blissey (~18,488). Speed-tier splits are useful: slow ~27%, mid ~60%, fast ~13% of the dataset, supporting the chosen cutoffs. Glass‑cannon Pokémon are rare (9 of 800, ≈1.1%) and concentrated in the fast tier. The offense vs defense scatter reveals that many Pokémon cluster in balanced regions but extremes exist (very high offense or defense), and bulk scales widely — use the 95th percentile bulk (~10,929) to identify exceptional tanks. These summaries support using Bulk and Speed thresholds to guide role selection.</p>
        </p>
      </div>
    </div>
  </div>
</section>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    3. Single-Pokémon stat landscape
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">This section profiles single‑Pokémon stat landscapes to identify typical trade‑offs and role‑defining signatures. We examine univariate distributions of each stat, bivariate relationships that separate physical vs special attackers and defensive specialization, and the Speed vs Bulk relationship to spot fragile sweepers. The goal is to surface candidate archetypes (physical attacker, special attacker, bulky pivot, fast sweeper, glass‑cannon) and practical cutoffs that players can use when composing teams.</p>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-3-1'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-3-1', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Univariate distributions of core Pok\u00e9mon stats faceted by stat. Histograms (stacked-normalized) show proportion by Generation; density lines compare Legendary vs non-Legendary.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"fold": ["Total", "HP", "Attack", "Defense", "Sp. Atk", "Sp. Def", "Speed"], "as": ["stat_name", "stat_value"]}], "facet": {"field": "stat_name", "type": "nominal", "columns": 3, "header": {"title": "Statistic", "labelAngle": 0}}, "spec": {"width": 220, "height": 140, "layer": [{"mark": {"type": "bar", "opacity": 0.45}, "encoding": {"x": {"field": "stat_value", "type": "quantitative", "bin": {"maxbins": 30}, "title": "Value"}, "y": {"aggregate": "count", "type": "quantitative", "stack": "normalize", "title": "Proportion"}, "color": {"field": "Generation", "type": "nominal", "title": "Generation", "scale": {"scheme": "category10"}}, "tooltip": [{"field": "stat_name", "type": "nominal", "title": "Stat"}, {"field": "Generation", "type": "nominal"}, {"aggregate": "count", "type": "quantitative", "title": "Count"}]}}, {"transform": [{"density": "stat_value", "as": ["stat_value", "density"], "groupby": ["stat_name", "Legendary"]}], "mark": {"type": "line", "interpolate": "monotone", "strokeWidth": 2}, "encoding": {"x": {"field": "stat_value", "type": "quantitative", "title": "Value"}, "y": {"field": "density", "type": "quantitative", "title": "Density"}, "color": {"field": "Legendary", "type": "nominal", "title": "Legendary", "scale": {"scheme": "set1"}}, "tooltip": [{"field": "stat_name", "type": "nominal", "title": "Stat"}, {"field": "Legendary", "type": "nominal"}, {"field": "density", "type": "quantitative", "title": "Density"}]}}]}, "resolve": {"legend": {"color": "independent"}}, "config": {"axis": {"labelFontSize": 10, "titleFontSize": 12}, "legend": {"labelFontSize": 11, "titleFontSize": 12}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Univariate histograms and KDEs summarize core stats. Totals and component stats are multimodal, with Attack and Sp. Atk showing many peaks and medians around the mid‑60s to mid‑70s for individual stats (Attack mean ≈79, Sp. Atk mean ≈73, Speed mean ≈68). Legendaries are strongly separated from non‑legendaries (e.g., mean Total for legendaries ≈637 vs ≈417 for others), so filtering for power or format constraints will move distributions substantially. Outliers exist for extreme single stats (Blissey in HP, mega and primal forms at the very high end for offense/defense). These distributions confirm that many usable archetypes exist but that a small set of Pokémon occupy extreme niches.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-3-2'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-3-2', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "title": "Pok\u00e9mon offense vs defense axes \u2014 physical vs special attackers and defensive specialisation", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "trim(datum['Type 1'])", "as": "Type1"}, {"calculate": "datum['Type 2'] ? trim(datum['Type 2']) : ''", "as": "Type2"}], "hconcat": [{"width": 420, "height": 360, "mark": {"type": "point", "filled": false, "tooltip": true}, "encoding": {"x": {"field": "Attack", "type": "quantitative", "title": "Attack (Physical offense)"}, "y": {"field": "Sp. Atk", "type": "quantitative", "title": "Sp. Atk (Special offense)"}, "color": {"field": "Type1", "type": "nominal", "title": "Primary Type", "scale": {"scheme": "category10"}}, "size": {"field": "Total", "type": "quantitative", "title": "Total base stats", "scale": {"range": [30, 400]}}, "opacity": {"value": 0.85}, "tooltip": [{"field": "Name", "type": "nominal", "title": "Name"}, {"field": "Type1", "type": "nominal", "title": "Type 1"}, {"field": "Type2", "type": "nominal", "title": "Type 2"}, {"field": "Total", "type": "quantitative", "title": "Total"}, {"field": "Attack", "type": "quantitative", "title": "Attack"}, {"field": "Sp. Atk", "type": "quantitative", "title": "Sp. Atk"}, {"field": "Defense", "type": "quantitative", "title": "Defense"}, {"field": "Sp. Def", "type": "quantitative", "title": "Sp. Def"}, {"field": "Speed", "type": "quantitative", "title": "Speed"}, {"field": "Generation", "type": "quantitative", "title": "Generation"}, {"field": "Legendary", "type": "nominal", "title": "Legendary"}]}, "title": "Offensive balance: Physical (Attack) vs Special (Sp. Atk)"}, {"width": 420, "height": 360, "mark": {"type": "point", "filled": false, "tooltip": true}, "encoding": {"x": {"field": "Defense", "type": "quantitative", "title": "Defense (Physical defense)"}, "y": {"field": "Sp. Def", "type": "quantitative", "title": "Sp. Def (Special defense)"}, "color": {"field": "Type1", "type": "nominal", "title": "Primary Type", "scale": {"scheme": "category10"}}, "size": {"field": "Total", "type": "quantitative", "title": "Total base stats", "scale": {"range": [30, 400]}}, "opacity": {"value": 0.85}, "tooltip": [{"field": "Name", "type": "nominal", "title": "Name"}, {"field": "Type1", "type": "nominal", "title": "Type 1"}, {"field": "Type2", "type": "nominal", "title": "Type 2"}, {"field": "Total", "type": "quantitative", "title": "Total"}, {"field": "Attack", "type": "quantitative", "title": "Attack"}, {"field": "Sp. Atk", "type": "quantitative", "title": "Sp. Atk"}, {"field": "Defense", "type": "quantitative", "title": "Defense"}, {"field": "Sp. Def", "type": "quantitative", "title": "Sp. Def"}, {"field": "Speed", "type": "quantitative", "title": "Speed"}, {"field": "Generation", "type": "quantitative", "title": "Generation"}, {"field": "Legendary", "type": "nominal", "title": "Legendary"}]}, "title": "Defensive specialisation: Defense vs Sp. Def"}], "resolve": {"legend": {"color": "shared"}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Attack vs Sp. Atk and Defense vs Sp. Def scatterplots show specialization and mixed types. Attack and Sp. Atk are positively correlated (r ≈ 0.40), so many Pokémon scale both offenses but clear physical specialists (Attack >> Sp. Atk; e.g., Mega Heracross) and special specialists (Sp. Atk >> Attack; e.g., Mega Alakazam) appear. Using a ±20 difference threshold yields approximately 283 Physical, 192 Special, and 325 Mixed attackers, giving a rich candidate pool for either role. Defense vs Sp. Def correlation (r ≈ 0.51) also indicates common joint scaling but with notable defensive specialists (e.g., Aggron mega, Shuckle). These bivariate views help pick complementary attackers and defenders to minimize role overlap on a team.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-3-3'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-3-3', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "title": "Speed vs Bulk index \u2014 correlation and glass-cannon prevalence by speed tier", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv", "parse": {"#": "number", "Total": "number", "HP": "number", "Attack": "number", "Defense": "number", "Sp. Atk": "number", "Sp. Def": "number", "Speed": "number", "Generation": "number"}}}, "transform": [{"calculate": "datum.HP * (datum.Defense + datum['Sp. Def']) / 2", "as": "BulkIndex"}, {"calculate": "datum.Defense + datum['Sp. Def']", "as": "DefenseSum"}, {"calculate": "datum.Speed < 50 ? 'Slow (<50)' : (datum.Speed <= 100 ? 'Mid (50-100)' : 'Fast (>100)')", "as": "SpeedTier"}, {"calculate": "(datum.Speed > 100) && (datum.Defense + datum['Sp. Def'] < 120) ? 'Glass-cannon' : 'Other'", "as": "GlassFlag"}], "hconcat": [{"width": 560, "height": 420, "layer": [{"mark": {"type": "point", "filled": false, "opacity": 0.8, "size": 80}, "encoding": {"x": {"field": "Speed", "type": "quantitative", "title": "Speed"}, "y": {"field": "BulkIndex", "type": "quantitative", "title": "Bulk index (HP * (Defense + Sp. Def) / 2)"}, "color": {"field": "GlassFlag", "type": "nominal", "title": "Glass-cannon flag", "scale": {"domain": ["Glass-cannon", "Other"], "range": ["#d62728", "#1f77b4"]}}, "shape": {"field": "SpeedTier", "type": "nominal", "title": "Speed tier"}, "tooltip": [{"field": "Name", "type": "nominal"}, {"field": "Speed", "type": "quantitative"}, {"field": "BulkIndex", "type": "quantitative", "format": ".1f"}, {"field": "DefenseSum", "type": "quantitative", "title": "Def + Sp.Def"}, {"field": "SpeedTier", "type": "nominal"}, {"field": "GlassFlag", "type": "nominal"}]}}, {"transform": [{"regression": "BulkIndex", "on": "Speed", "method": "linear"}], "mark": {"type": "line", "color": "black", "opacity": 0.9}, "encoding": {"x": {"field": "Speed", "type": "quantitative"}, "y": {"field": "BulkIndex", "type": "quantitative"}}}]}, {"width": 320, "height": 420, "mark": "bar", "encoding": {"x": {"field": "SpeedTier", "type": "ordinal", "title": "Speed tier", "sort": ["Slow (<50)", "Mid (50-100)", "Fast (>100)"]}, "y": {"aggregate": "count", "type": "quantitative", "title": "Proportion of Pok\u00e9mon (stacked)", "stack": "normalize"}, "color": {"field": "GlassFlag", "type": "nominal", "title": "Glass-cannon", "scale": {"domain": ["Glass-cannon", "Other"], "range": ["#d62728", "#1f77b4"]}}, "tooltip": [{"field": "SpeedTier", "type": "nominal"}, {"field": "GlassFlag", "type": "nominal"}, {"aggregate": "count", "type": "quantitative", "title": "Count"}]}}], "config": {"axis": {"labelFontSize": 12, "titleFontSize": 13}, "legend": {"labelFontSize": 12, "titleFontSize": 13}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Speed vs Bulk scatter and summaries show only a weak overall relationship (r ≈ 0.22) so many fast Pokémon can still have moderate bulk. Fast Pokémon (>100 Speed) are ~13% of the dataset but contain most glass‑cannon candidates: all nine glass‑cannons are fast and around 8.5% of the fast tier. Mean bulk increases slightly with tier (mid and fast tiers have higher mean Bulk), but extreme low‑bulk fast outliers exist (e.g., Deoxys Attack with high Speed but very low Bulk). Use the speed percentiles (80th–90th) and bulk percentiles (85th–90th) described later to select sweepers and pivots; be cautious about selecting fast Pokémon with bottom‑decile Bulk unless that fragility is part of your strategy.</p>
        </p>
      </div>
    </div>
  </div>
</section>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    4. Role archetypes and multivariate clustering
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">We cluster Pokémon by their multivariate stat signatures to define interpretable role archetypes useful for team composition: offensive vs defensive emphasis, bulkiness, speed and extreme specializations. The recommended workflow is to compute derived features (OffensiveBalance, DefensiveBalance, BulkIndex), standardize numeric features, and use KMeans on the derived set with k in the 2–5 range for interpretable archetypes. Metrics and centroid summaries then guide how many good candidates exist for each role and whether legendaries dominate certain clusters.</p>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <p class='text-red-600'>Error loading visualization</p>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Exploratory projections and k‑means visualizations show that using the derived feature set (OffensiveBalance, DefensiveBalance, BulkIndex) and z‑scoring yields the most interpretable clusters (best silhouette ≈0.372). For k=2 the data roughly split into a higher‑bulk/higher‑offense cluster and a lower‑bulk/lower‑offense cluster; increasing k reveals nuanced roles (fast attackers, bulky defenders, mixed). Recommended practical choice is to present k between 2 and 4 for readability: k=2 gives a clear bulk/offense split, while k=3–4 separates fast attackers and bulky pivots. Preprocessing (z-scoring) is essential to avoid domination by scale differences such as Bulk index.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-4-2'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-4-2', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Exploratory visualization approximating archetypal role clusters by computing derived features (Offensive balance, Defensive balance, Bulk index), standardizing them and assigning heuristic cluster labels (quadrant + bulk/fast heuristics). Top: PCA-like scatter (standardized Off vs Def as PCA_1/PCA_2) sized by bulk and colored by cluster. Bottom-left: per-cluster centroid stat profiles (mean HP/Attack/Defense/Sp. Atk/Sp. Def/Speed). Bottom-right: cluster composition (counts and Legendary proportion). Note: full PCA/KMeans is not available directly in Vega-Lite; this view focuses on derived features and interpretable heuristic roles.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "vconcat": [{"title": "PCA_1 vs PCA_2 (standardized Offensive balance vs Defensive balance) \u2014 heuristic clusters", "width": 800, "height": 480, "mark": {"type": "point", "filled": true, "opacity": 0.85}, "encoding": {"x": {"field": "PCA_1", "type": "quantitative", "title": "PCA_1 (z Offensive balance)", "scale": {"zero": false}}, "y": {"field": "PCA_2", "type": "quantitative", "title": "PCA_2 (z Defensive balance)", "scale": {"zero": false}}, "color": {"field": "cluster_label", "type": "nominal", "title": "Cluster (heuristic)", "legend": {"orient": "right"}}, "size": {"field": "Bulk index", "type": "quantitative", "title": "Bulk index (HP*(Def+Sp.Def)/2)", "scale": {"type": "sqrt", "range": [20, 1200]}}, "shape": {"field": "Legendary", "type": "nominal", "title": "Legendary"}, "tooltip": [{"field": "Name", "type": "nominal"}, {"field": "Type 1", "type": "nominal"}, {"field": "Type 2", "type": "nominal"}, {"field": "Generation", "type": "ordinal"}, {"field": "Legendary", "type": "nominal"}, {"field": "HP", "type": "quantitative"}, {"field": "Attack", "type": "quantitative"}, {"field": "Defense", "type": "quantitative"}, {"field": "Sp. Atk", "type": "quantitative", "title": "Sp. Atk"}, {"field": "Sp. Def", "type": "quantitative", "title": "Sp. Def"}, {"field": "Speed", "type": "quantitative"}, {"field": "Offensive balance", "type": "quantitative"}, {"field": "Defensive balance", "type": "quantitative"}, {"field": "Bulk index", "type": "quantitative"}, {"field": "cluster_label", "type": "nominal"}]}, "transform": [{"calculate": "(datum.Attack + datum['Sp. Atk'])/2", "as": "Offensive balance"}, {"calculate": "(datum.Defense + datum['Sp. Def'])/2", "as": "Defensive balance"}, {"calculate": "datum.HP * (datum.Defense + datum['Sp. Def'])/2", "as": "Bulk index"}, {"joinaggregate": [{"op": "mean", "field": "Offensive balance", "as": "mean_off"}, {"op": "stdev", "field": "Offensive balance", "as": "sd_off"}, {"op": "mean", "field": "Defensive balance", "as": "mean_def"}, {"op": "stdev", "field": "Defensive balance", "as": "sd_def"}, {"op": "mean", "field": "Speed", "as": "mean_speed"}, {"op": "stdev", "field": "Speed", "as": "sd_speed"}, {"op": "mean", "field": "Bulk index", "as": "mean_bulk"}, {"op": "stdev", "field": "Bulk index", "as": "sd_bulk"}], "groupby": []}, {"calculate": "(datum['Offensive balance'] - datum.mean_off) / (datum.sd_off==0 ? 1 : datum.sd_off)", "as": "z_off"}, {"calculate": "(datum['Defensive balance'] - datum.mean_def) / (datum.sd_def==0 ? 1 : datum.sd_def)", "as": "z_def"}, {"calculate": "(datum.Speed - datum.mean_speed) / (datum.sd_speed==0 ? 1 : datum.sd_speed)", "as": "z_speed"}, {"calculate": "(datum['Bulk index'] - datum.mean_bulk) / (datum.sd_bulk==0 ? 1 : datum.sd_bulk)", "as": "z_bulk"}, {"calculate": "datum.z_off", "as": "PCA_1"}, {"calculate": "datum.z_def", "as": "PCA_2"}, {"calculate": "(datum.Legendary === 'True' || datum.Legendary === true) ? 1 : 0", "as": "Legendary_num"}, {"calculate": "\nif (datum.z_off > 0 && datum.z_def > 0) {\n  'Balanced'\n} else if (datum.z_off > 1 && datum.z_def < 0 && datum.z_speed < 1) {\n  'Offensive (Glass Cannon)'\n} else if (datum.z_off > 0 && datum.z_speed > 1) {\n  'Fast Attacker'\n} else if (datum.z_off < 0 && datum.z_def > 0 && datum.z_bulk > 1) {\n  'Bulky Defender'\n} else if (datum.z_off < 0 && datum.z_def > 0) {\n  'Defensive'\n} else {\n  'Mixed/Fragile'\n}\n", "as": "cluster_label"}]}, {"hconcat": [{"title": "Cluster centroid stat profiles (mean per cluster)", "width": 520, "height": 300, "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "(datum.Attack + datum['Sp. Atk'])/2", "as": "Offensive balance"}, {"calculate": "(datum.Defense + datum['Sp. Def'])/2", "as": "Defensive balance"}, {"calculate": "datum.HP * (datum.Defense + datum['Sp. Def'])/2", "as": "Bulk index"}, {"joinaggregate": [{"op": "mean", "field": "Offensive balance", "as": "mean_off"}, {"op": "stdev", "field": "Offensive balance", "as": "sd_off"}, {"op": "mean", "field": "Defensive balance", "as": "mean_def"}, {"op": "stdev", "field": "Defensive balance", "as": "sd_def"}, {"op": "mean", "field": "Speed", "as": "mean_speed"}, {"op": "stdev", "field": "Speed", "as": "sd_speed"}, {"op": "mean", "field": "Bulk index", "as": "mean_bulk"}, {"op": "stdev", "field": "Bulk index", "as": "sd_bulk"}], "groupby": []}, {"calculate": "(datum['Offensive balance'] - datum.mean_off) / (datum.sd_off==0 ? 1 : datum.sd_off)", "as": "z_off"}, {"calculate": "(datum['Defensive balance'] - datum.mean_def) / (datum.sd_def==0 ? 1 : datum.sd_def)", "as": "z_def"}, {"calculate": "(datum.Speed - datum.mean_speed) / (datum.sd_speed==0 ? 1 : datum.sd_speed)", "as": "z_speed"}, {"calculate": "(datum['Bulk index'] - datum.mean_bulk) / (datum.sd_bulk==0 ? 1 : datum.sd_bulk)", "as": "z_bulk"}, {"calculate": "datum.z_off", "as": "PCA_1"}, {"calculate": "datum.z_def", "as": "PCA_2"}, {"calculate": "(datum.Legendary === 'True' || datum.Legendary === true) ? 1 : 0", "as": "Legendary_num"}, {"calculate": "\nif (datum.z_off > 0 && datum.z_def > 0) {\n  'Balanced'\n} else if (datum.z_off > 1 && datum.z_def < 0 && datum.z_speed < 1) {\n  'Offensive (Glass Cannon)'\n} else if (datum.z_off > 0 && datum.z_speed > 1) {\n  'Fast Attacker'\n} else if (datum.z_off < 0 && datum.z_def > 0 && datum.z_bulk > 1) {\n  'Bulky Defender'\n} else if (datum.z_off < 0 && datum.z_def > 0) {\n  'Defensive'\n} else {\n  'Mixed/Fragile'\n}\n", "as": "cluster_label"}, {"aggregate": [{"op": "mean", "field": "HP", "as": "HP"}, {"op": "mean", "field": "Attack", "as": "Attack"}, {"op": "mean", "field": "Defense", "as": "Defense"}, {"op": "mean", "field": "Sp. Atk", "as": "Sp. Atk"}, {"op": "mean", "field": "Sp. Def", "as": "Sp. Def"}, {"op": "mean", "field": "Speed", "as": "Speed"}], "groupby": ["cluster_label"]}, {"fold": ["HP", "Attack", "Defense", "Sp. Atk", "Sp. Def", "Speed"], "as": ["stat", "mean_val"]}], "mark": "bar", "encoding": {"column": {"field": "cluster_label", "type": "nominal", "title": "Cluster", "header": {"labelAngle": -25, "labelLimit": 160}}, "x": {"field": "stat", "type": "nominal", "title": null, "axis": {"labelAngle": -40}}, "y": {"field": "mean_val", "type": "quantitative", "title": "Mean base stat"}, "color": {"field": "stat", "type": "nominal", "legend": null}}}, {"title": "Cluster composition: counts and Legendary proportion", "width": 420, "height": 300, "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "(datum.Attack + datum['Sp. Atk'])/2", "as": "Offensive balance"}, {"calculate": "(datum.Defense + datum['Sp. Def'])/2", "as": "Defensive balance"}, {"calculate": "datum.HP * (datum.Defense + datum['Sp. Def'])/2", "as": "Bulk index"}, {"joinaggregate": [{"op": "mean", "field": "Offensive balance", "as": "mean_off"}, {"op": "stdev", "field": "Offensive balance", "as": "sd_off"}, {"op": "mean", "field": "Defensive balance", "as": "mean_def"}, {"op": "stdev", "field": "Defensive balance", "as": "sd_def"}, {"op": "mean", "field": "Speed", "as": "mean_speed"}, {"op": "stdev", "field": "Speed", "as": "sd_speed"}, {"op": "mean", "field": "Bulk index", "as": "mean_bulk"}, {"op": "stdev", "field": "Bulk index", "as": "sd_bulk"}], "groupby": []}, {"calculate": "(datum['Offensive balance'] - datum.mean_off) / (datum.sd_off==0 ? 1 : datum.sd_off)", "as": "z_off"}, {"calculate": "(datum['Defensive balance'] - datum.mean_def) / (datum.sd_def==0 ? 1 : datum.sd_def)", "as": "z_def"}, {"calculate": "(datum.Speed - datum.mean_speed) / (datum.sd_speed==0 ? 1 : datum.sd_speed)", "as": "z_speed"}, {"calculate": "(datum['Bulk index'] - datum.mean_bulk) / (datum.sd_bulk==0 ? 1 : datum.sd_bulk)", "as": "z_bulk"}, {"calculate": "(datum.Legendary === 'True' || datum.Legendary === true) ? 1 : 0", "as": "Legendary_num"}, {"calculate": "\nif (datum.z_off > 0 && datum.z_def > 0) {\n  'Balanced'\n} else if (datum.z_off > 1 && datum.z_def < 0 && datum.z_speed < 1) {\n  'Offensive (Glass Cannon)'\n} else if (datum.z_off > 0 && datum.z_speed > 1) {\n  'Fast Attacker'\n} else if (datum.z_off < 0 && datum.z_def > 0 && datum.z_bulk > 1) {\n  'Bulky Defender'\n} else if (datum.z_off < 0 && datum.z_def > 0) {\n  'Defensive'\n} else {\n  'Mixed/Fragile'\n}\n", "as": "cluster_label"}, {"aggregate": [{"op": "count", "as": "count"}], "groupby": ["cluster_label"]}, {"lookup": "cluster_label", "from": {"data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "key": "cluster_label", "fields": ["dummy"]}, "as": ["dummy_lookup"]}, {"calculate": "datum.cluster_label", "as": "cluster_label"}], "layer": [{"mark": "bar", "encoding": {"x": {"field": "cluster_label", "type": "nominal", "title": "Cluster"}, "y": {"field": "count", "type": "quantitative", "title": "Count of Pok\u00e9mon"}, "color": {"field": "cluster_label", "type": "nominal", "legend": null}}}, {"mark": {"type": "text", "dy": -6, "color": "black"}, "encoding": {"x": {"field": "cluster_label", "type": "nominal"}, "y": {"field": "count", "type": "quantitative"}, "text": {"field": "count", "type": "quantitative"}}}]}]}], "config": {"axis": {"labelFontSize": 12, "titleFontSize": 13}, "legend": {"labelFontSize": 11, "titleFontSize": 12}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Heuristic cluster labels and centroid profiles identify common archetypes: Balanced/High‑stat (large bulk and offense centroid), Mixed/Low‑stat (smaller centroid), Fast attacker, Bulky defender and Offensive glass‑cannon. The k=2 split produced two interpretable groups: Cluster 0 (size 426) with mean HP ≈83, offensive balance ≈94, defensive balance ≈89 and substantial bulk (mean Bulk ≈7,341) and a 15% legendary proportion; Cluster 1 (size 374) with much lower centroid stats (HP ≈54, offense ≈56, defense ≈54, bulk ≈2,925) and no legendaries. Representative close-to-centroid examples help players pick role candidates; cluster counts indicate a healthy pool of candidates for most roles but relatively few true glass‑cannons.</p>
        </p>
      </div>
    </div>
  </div>
</section>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    5. Type synergy and coverage analysis
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">Type synergy and coverage analysis inspects primary/secondary type distributions, common dual types, and how teams cover opponent type combinations. The goal is to identify over/under‑represented types, risky shared weaknesses, and dual types that provide robust offensive coverage. We evaluate team coverage via simulated teams and three selection strategies to quantify how many opponent type combinations remain uncovered and which attacker types are most dangerous.</p>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-5-1'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-5-1', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Counts of Pok\u00e9mon types when Type 1 and Type 2 are counted separately, with missing Type 2 replaced by 'None'. Bars are stacked by Role (Primary / Secondary) and types are sorted by combined frequency.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv"}, "transform": [{"calculate": "(datum['Type 2'] && datum['Type 2'] != '') ? datum['Type 2'] : 'None'", "as": "Type2Clean"}, {"fold": ["Type 1", "Type2Clean"], "as": ["Source", "Type"]}, {"calculate": "datum.Source == 'Type 1' ? 'Primary' : 'Secondary'", "as": "Role"}, {"aggregate": [{"op": "count", "as": "Count"}], "groupby": ["Type", "Role"]}, {"window": [{"op": "sum", "field": "Count", "as": "CombinedCount"}], "groupby": ["Type"]}], "mark": {"type": "bar"}, "encoding": {"y": {"field": "Type", "type": "nominal", "sort": {"field": "CombinedCount", "order": "descending"}, "axis": {"title": "Pok\u00e9mon Type"}}, "x": {"field": "Count", "type": "quantitative", "axis": {"title": "Count (by Role)"}}, "color": {"field": "Role", "type": "nominal", "legend": {"title": "Role (Primary / Secondary)"}, "scale": {"scheme": "category10"}}, "tooltip": [{"field": "Type", "type": "nominal", "title": "Type"}, {"field": "Role", "type": "nominal", "title": "Role"}, {"field": "Count", "type": "quantitative", "title": "Role Count"}, {"field": "CombinedCount", "type": "quantitative", "title": "Combined Count"}]}, "width": 720, "height": 900, "title": "Pok\u00e9mon types: Primary vs Secondary frequency (types sorted by combined frequency)"}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Counting types with missing Type 2 filled as 'None' shows the dataset is dominated by single‑type entries: 'None' appears 386 times as secondary type. Combined frequency ranking places Water, Normal and Flying among the top real types; top primary types are Water (112) and Normal (98). Some types predominantly act as primary (Normal, Bug, Water) while others appear mostly as secondary (Flying). This imbalance matters for team composition: many Pokémon are single‑typed and common dual‑type combinations concentrate mass in a few buckets, so relying on rare dual types for coverage is risky.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-5-2'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-5-2', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Heatmap showing counts of dual-type combinations (Type 1 vs Type 2). Missing Type 2 values are filled with 'None'. Showing combinations with count >= 2 to surface common associations.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "(!datum['Type 1'] || datum['Type 1'].toString().trim() === '') ? 'Unknown' : datum['Type 1'].toString().trim()", "as": "Type1"}, {"calculate": "(!datum['Type 2'] || datum['Type 2'].toString().trim() === '') ? 'None' : datum['Type 2'].toString().trim()", "as": "Type2"}, {"aggregate": [{"op": "count", "as": "Count"}], "groupby": ["Type1", "Type2"]}, {"filter": "datum.Count >= 2"}], "mark": "rect", "encoding": {"x": {"field": "Type2", "type": "nominal", "title": "Type 2", "axis": {"labelAngle": -45, "labelOverlap": true}}, "y": {"field": "Type1", "type": "nominal", "title": "Type 1", "sort": {"field": "Count", "order": "descending"}}, "color": {"field": "Count", "type": "quantitative", "title": "Count", "scale": {"scheme": "blues"}}, "tooltip": [{"field": "Type1", "type": "nominal", "title": "Type 1"}, {"field": "Type2", "type": "nominal", "title": "Type 2"}, {"field": "Count", "type": "quantitative", "title": "Count"}]}, "width": 700, "height": 600, "title": "Common Dual-Type Combinations (Type 1 vs Type 2) \u2014 combos with count \u2265 2", "config": {"axis": {"labelFontSize": 11, "titleFontSize": 12}, "legend": {"titleFontSize": 12, "labelFontSize": 11}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">The dual‑type heatmap enumerates 154 unique Type1/Type2 combinations (with 39 singletons). Most common combos are Normal/None, Water/None and Psychic/None, with the top five combos covering ≈27% of the dataset. This concentration means teams built from popular species often share similar defensive profiles, increasing the risk of overlapping weaknesses. The count of common dual‑types helps players prefer combinations that fill gaps rather than duplicate common pairings.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-5-3'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-5-3', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Heatmap of primary vs secondary type combinations showing how common each dual-type is and summarising mean bulk / defensive/offensive balance. This helps identify frequently-occurring dual-type combos that might create shared weaknesses.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv", "parse": {"Total": "number", "HP": "number", "Attack": "number", "Defense": "number", "Sp. Atk": "number", "Sp. Def": "number", "Speed": "number", "Generation": "number"}}}, "transform": [{"calculate": "datum['Type 2'] || 'None'", "as": "Type2_clean"}, {"calculate": "(datum['Defense'] + datum['Sp. Def']) / 2", "as": "defensiveBalance"}, {"calculate": "(datum['Attack'] + datum['Sp. Atk']) / 2", "as": "offensiveBalance"}, {"calculate": "datum['HP'] * ((datum['Defense'] + datum['Sp. Def']) / 2)", "as": "bulkIndex"}, {"aggregate": {"groupby": ["Type 1", "Type2_clean"], "ops": ["count", "mean", "mean", "mean", "mean", "mean"], "fields": ["Name", "bulkIndex", "defensiveBalance", "offensiveBalance", "Total", "Speed"], "as": ["count", "mean_bulk", "mean_defensiveBalance", "mean_offensiveBalance", "mean_total", "mean_speed"]}}], "width": 900, "height": 600, "mark": {"type": "rect", "stroke": "white"}, "encoding": {"x": {"field": "Type 1", "type": "nominal", "title": "Primary Type", "axis": {"labelAngle": -45}}, "y": {"field": "Type2_clean", "type": "nominal", "title": "Secondary Type (\"None\" = single-type)", "axis": {"labelAngle": 0}}, "color": {"field": "count", "type": "quantitative", "title": "# of Pok\u00e9mon", "scale": {"scheme": "blues"}}, "tooltip": [{"field": "Type 1", "type": "nominal", "title": "Primary Type"}, {"field": "Type2_clean", "type": "nominal", "title": "Secondary Type"}, {"field": "count", "type": "quantitative", "title": "Count", "format": ",d"}, {"field": "mean_bulk", "type": "quantitative", "title": "Mean Bulk Index", "format": ".1f"}, {"field": "mean_defensiveBalance", "type": "quantitative", "title": "Mean Defensive Balance", "format": ".1f"}, {"field": "mean_offensiveBalance", "type": "quantitative", "title": "Mean Offensive Balance", "format": ".1f"}, {"field": "mean_total", "type": "quantitative", "title": "Mean Total", "format": ".1f"}, {"field": "mean_speed", "type": "quantitative", "title": "Mean Speed", "format": ".1f"}]}, "title": "Dual-type Frequency & Stat Summaries \u2014 Useful for spotting common dual-types (potential shared weaknesses)", "config": {"axis": {"labelFontSize": 12, "titleFontSize": 13}, "legend": {"labelFontSize": 12, "titleFontSize": 13}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Type coverage simulations and dual-type stat summaries reveal practical coverage insights. We evaluated an offensive coverage model across 133 observed defender combos with random and heuristic team generation. Greedy diversity selection achieved near‑perfect coverage in tests (as low as 2 uncovered combos), while purely bulk-oriented teams had high survivability but poorer coverage. Attacker types that most often threaten common defenders include Ice, Fire, Flying, Rock and Grass; defender combos like Ground/Rock or pure Grass attract many super‑effective types. These results support prioritizing diversity in attacker types to minimize uncovered opponent combos while retaining at least one bulky pivot to survive concentrated assaults.</p>
        </p>
      </div>
    </div>
  </div>
</section>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    6. Team composition strategies and trade-offs (6‑Pokémon)
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">This section translates single‑Pokémon insights into full six‑member team strategies and quantifies trade‑offs among templates (hyper‑offense, balanced, stall/tank, mixed). We examine team totals of Bulk and offensive balance, expected speed‑tier slot counts, parallel stat profiles for representative teams, and exposure to damaging type matchups. The aim is to give concrete team templates and a method to compare them quantitatively so players can choose templates that match their intended playstyle.</p>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-6-1'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-6-1', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Average counts of slow / mid / fast speed slots per team_template. Teams are deterministically constructed by grouping every 6 Pok\u00e9mon rows (by #) into a team_id, and team_template is assigned by team_id % 4 -> (hyper-offense, balanced, stall/tank, mixed). Speed tiers: slow <50, mid 50\u2013100, fast >100.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv"}, "transform": [{"calculate": "floor((datum['#'] - 1) / 6)", "as": "team_id"}, {"calculate": "(datum.team_id % 4) == 0 ? 'hyper-offense' : (datum.team_id % 4) == 1 ? 'balanced' : (datum.team_id % 4) == 2 ? 'stall/tank' : 'mixed'", "as": "team_template"}, {"calculate": "datum.Speed < 50 ? 'slow' : datum.Speed <= 100 ? 'mid' : 'fast'", "as": "speed_tier"}, {"calculate": "datum.speed_tier == 'slow' ? 1 : 0", "as": "is_slow"}, {"calculate": "datum.speed_tier == 'mid' ? 1 : 0", "as": "is_mid"}, {"calculate": "datum.speed_tier == 'fast' ? 1 : 0", "as": "is_fast"}, {"aggregate": [{"op": "sum", "field": "is_slow", "as": "count_slow"}, {"op": "sum", "field": "is_mid", "as": "count_mid"}, {"op": "sum", "field": "is_fast", "as": "count_fast"}], "groupby": ["team_id", "team_template"]}, {"aggregate": [{"op": "mean", "field": "count_slow", "as": "mean_count_slow"}, {"op": "mean", "field": "count_mid", "as": "mean_count_mid"}, {"op": "mean", "field": "count_fast", "as": "mean_count_fast"}], "groupby": ["team_template"]}, {"fold": ["mean_count_slow", "mean_count_mid", "mean_count_fast"], "as": ["key", "mean_count"]}, {"calculate": "replace(datum.key, 'mean_count_', '')", "as": "speed_tier"}], "mark": {"type": "bar", "tooltip": true}, "encoding": {"x": {"field": "team_template", "type": "nominal", "title": "Team template", "sort": ["hyper-offense", "balanced", "stall/tank", "mixed"]}, "xOffset": {"field": "speed_tier"}, "y": {"field": "mean_count", "type": "quantitative", "title": "Average count per team (of 6)"}, "color": {"field": "speed_tier", "type": "nominal", "scale": {"domain": ["slow", "mid", "fast"], "range": ["#1f77b4", "#ff7f0e", "#2ca02c"]}, "title": "Speed tier"}, "tooltip": [{"field": "team_template", "type": "nominal", "title": "Template"}, {"field": "speed_tier", "type": "nominal", "title": "Speed tier"}, {"field": "mean_count", "type": "quantitative", "title": "Avg count"}]}, "config": {"view": {"stroke": "transparent"}, "axis": {"labelFontSize": 12, "titleFontSize": 13}}, "title": "Average number of slow / mid / fast slots per team template (teams formed by every 6 rows; template assigned deterministically)"}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">A template-level summary of speed‑tier slots (computed by deterministic grouping in the demo) shows expected patterns: balanced teams typically have about one fast slot on average, hyper‑offense teams have more fast slots (mean fast ≈1.2), and stall/tank templates have the fewest fast Pokémon (mean fast ≈0.35). Most balanced and mixed teams center around mid speeds with 4 mid slots common. These per‑template speed profiles suggest designers should explicitly decide how many fast sweepers they want (0–2) and reserve slots accordingly rather than rely on random composition.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <p class='text-red-600'>Error loading visualization</p>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Representative six‑member teams from the centroid‑based sampling (one per generation template) illustrate the stat trade‑offs. Example representative teams show variation in team offensive balance (e.g., ~360–540), team Bulk index (~24k–39k) and average speed (~55–83). Role composition among representatives leaned heavily toward balanced and tank roles with few glass‑cannons picked automatically; this mirrors real drafting where reliable mid‑stat Pokémon are abundant while extreme niches are rare. Use these templates to instantiate sample builds, then refine by replacing individuals to improve coverage or adjust speed balance.</p>
        </p>
      </div>
    </div>
  </div>
</section>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    7. Automated recommendation & benchmarking
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">We compare automated recommendation approaches for building 6‑Pokémon teams: greedy marginal coverage (maximize new type coverage per pick), a multi‑objective optimizer (balance offense, bulk and coverage), a heuristics baseline (tank-focused picks), and random teams. Evaluation metrics include approximate type coverage, summed Bulk index, mean offensive balance, speed composition and a synthetic robustness score combining normalized metrics. The comparison quantifies the practical trade‑offs each approach makes so players can select an algorithm matching their priorities.</p>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-7-1'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-7-1', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Simulated comparison of four recommendation algorithms (Greedy marginal coverage, Multi-objective optimization, Random baseline, Genre heuristics) by aggregating 6-Pok\u00e9mon teams built from the dataset (teams are formed sequentially for demonstration). For each Pok\u00e9mon we derive offensive/defensive/bulk/speed features, aggregate to team-level and compute a synthetic robustness score. Each facet shows per-team metric values by algorithm.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv", "parse": {"#": "number", "Total": "number", "HP": "number", "Attack": "number", "Defense": "number", "Sp. Atk": "number", "Sp. Def": "number", "Speed": "number", "Generation": "number", "Legendary": "boolean"}}}, "transform": [{"calculate": "(datum.Attack + datum['Sp. Atk']) / 2", "as": "Offensive_balance"}, {"calculate": "(datum.Defense + datum['Sp. Def']) / 2", "as": "Defensive_balance"}, {"calculate": "datum.HP * ((datum.Defense + datum['Sp. Def']) / 2)", "as": "Bulk"}, {"calculate": "floor((datum['#'] - 1) / 6)", "as": "TeamIndex"}, {"calculate": "['Greedy marginal coverage','Multi-objective optimization','Random baseline','Genre heuristics'][datum.TeamIndex % 4]", "as": "Algorithm"}, {"calculate": "datum.Speed > 100 ? 'fast' : (datum.Speed >= 50 ? 'mid' : 'slow')", "as": "Speed_tier"}, {"calculate": "datum.Speed > 100 ? 1 : 0", "as": "is_fast"}, {"calculate": "(datum['Type 2'] == null || datum['Type 2'] == '') ? null : datum['Type 2']", "as": "Type2_nonempty"}, {"calculate": "(datum.Speed > 100 && ((datum.Defense + datum['Sp. Def']) < 120)) ? 1 : 0", "as": "glass_flag"}, {"aggregate": [{"op": "sum", "field": "Bulk", "as": "sum_bulk"}, {"op": "mean", "field": "Offensive_balance", "as": "mean_offensive"}, {"op": "distinct", "field": "Type 1", "as": "type1_distinct"}, {"op": "distinct", "field": "Type2_nonempty", "as": "type2_distinct"}, {"op": "sum", "field": "(datum.Speed > 100 ? 1 : (datum.Speed >= 50 ? 0 : 0))", "as": "dummy"}, {"op": "sum", "field": "is_fast", "as": "fast_count"}, {"op": "sum", "field": "(datum.Speed >= 50 && datum.Speed <=100) ? 1 : 0", "as": "mid_count"}, {"op": "sum", "field": "(datum.Speed < 50) ? 1 : 0", "as": "slow_count"}, {"op": "sum", "field": "glass_flag", "as": "glass_count"}, {"op": "count", "as": "team_size"}], "groupby": ["TeamIndex", "Algorithm"]}, {"calculate": "(datum.type1_distinct || 0) + (datum.type2_distinct || 0)", "as": "type_coverage_approx"}, {"calculate": "datum.fast_count / datum.team_size", "as": "fast_prop"}, {"window": [{"op": "min", "field": "type_coverage_approx", "as": "min_cov"}, {"op": "max", "field": "type_coverage_approx", "as": "max_cov"}, {"op": "min", "field": "sum_bulk", "as": "min_bulk"}, {"op": "max", "field": "sum_bulk", "as": "max_bulk"}, {"op": "min", "field": "mean_offensive", "as": "min_off"}, {"op": "max", "field": "mean_offensive", "as": "max_off"}, {"op": "min", "field": "fast_prop", "as": "min_fast"}, {"op": "max", "field": "fast_prop", "as": "max_fast"}], "frame": [null, null]}, {"calculate": "(datum.max_cov == datum.min_cov) ? 0.5 : (datum.type_coverage_approx - datum.min_cov) / (datum.max_cov - datum.min_cov)", "as": "norm_cov"}, {"calculate": "(datum.max_bulk == datum.min_bulk) ? 0.5 : (datum.sum_bulk - datum.min_bulk) / (datum.max_bulk - datum.min_bulk)", "as": "norm_bulk"}, {"calculate": "(datum.max_off == datum.min_off) ? 0.5 : (datum.mean_offensive - datum.min_off) / (datum.max_off - datum.min_off)", "as": "norm_off"}, {"calculate": "(datum.max_fast == datum.min_fast) ? 0.5 : (datum.fast_prop - datum.min_fast) / (datum.max_fast - datum.min_fast)", "as": "norm_fast"}, {"calculate": "(0.4 * datum.norm_cov) + (0.25 * datum.norm_bulk) + (0.25 * datum.norm_off) + (0.1 * datum.norm_fast) - (0.1 * (datum.glass_count / datum.team_size))", "as": "robustness"}, {"fold": ["type_coverage_approx", "sum_bulk", "mean_offensive", "fast_prop", "robustness"], "as": ["Metric name", "Metric value"]}], "facet": {"row": {"field": "Metric name", "type": "nominal", "title": "Metric"}}, "spec": {"width": 420, "height": 120, "mark": {"type": "point", "filled": true, "tooltip": true}, "encoding": {"x": {"field": "Metric value", "type": "quantitative", "title": "Metric value", "scale": {"zero": false}}, "y": {"field": "Algorithm", "type": "nominal", "title": "Algorithm", "sort": ["Greedy marginal coverage", "Multi-objective optimization", "Random baseline", "Genre heuristics"]}, "color": {"field": "Algorithm", "type": "nominal", "legend": null}, "opacity": {"value": 0.85}, "tooltip": [{"field": "Algorithm", "type": "nominal", "title": "Algorithm"}, {"field": "TeamIndex", "type": "quantitative", "title": "Team index"}, {"field": "Metric name", "type": "nominal", "title": "Metric"}, {"field": "Metric value", "type": "quantitative", "title": "Value"}]}}, "resolve": {"scale": {"x": "independent"}}, "config": {"axis": {"labelFontSize": 11, "titleFontSize": 12}, "legend": {"labelFontSize": 11}}}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Simulated comparisons show clear differences: greedy marginal coverage ranks highest on mean synthetic robustness (≈0.68) and delivers the best type coverage (mean ≈12 distinct types), while heuristics‑tank teams achieve the highest summed Bulk but lower coverage. Multi‑objective approaches balance both but in our runs produced intermediate robustness (≈0.36). Random teams perform worst as expected. Concrete best teams from each approach illustrate tradeoffs: greedy produced a highly diverse, offensively potent six that left few opponent combos uncovered, heuristics produced a very bulky but less diverse team, and multi‑objective gave a compromise. The recommendation is: use greedy coverage if your primary goal is to minimize uncovered opponent types, use multi‑objective selection to balance survivability and offense, and reserve heuristics (tank) if the meta is heavy on single‑target power.</p>
        </p>
      </div>
    </div>
  </div>
</section>
<section class='mb-16'>
  <h2 class='text-3xl font-bold mb-6 border-b border-gray-200 pb-2'>
    8. Practical checklist, limitations, and next steps
  </h2>
  <div class='space-y-10'>
    <div class='prose prose-lg prose-gray max-w-none'>
      <p class="text-gray-700 leading-relaxed mb-4">Practical checklist and limitations: for a competitive six‑Pokémon team aim for 1–2 sweepers selected from the 80th–90th speed percentiles, reserve 1 bulky pivot from the top 10–15% Bulk index, and ensure roughly 10+ distinct attacking types across the team to reduce uncovered opponent combos. Avoid stacking more than one raw 4× shared weakness and only include glass‑cannons when their fragility is covered by teammates. Key dataset limitations: no movesets, abilities, EV/IV or items are modeled, and the analysis uses raw type multipliers and base stats without turn‑by‑turn battle simulation, so results are heuristic rather than definitive for specific formats. Next steps are to add movesets and abilities, run Monte Carlo battle simulations, adapt analyses to specific competitive formats, and publish reproducible notebooks and interactive dashboards.</p>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <div class='mb-4 flex justify-center'>
          <div class='inline-block mx-auto overflow-x-auto max-w-full'>
            <div id='vis-8-1'></div>
          </div>
        </div>
        <script>
          vegaEmbed('#vis-8-1', {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Speed vs Bulk index for Pok\u00e9mon: identify Speed thresholds (Slow <50, Mid 50-100, Fast >100) and Bulk index cutoffs roughly corresponding to top 10-20% sweepers and top 10-15% bulky pivots. Points highlighted when they fall into those top percentiles or are glass-cannon.", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "datum.HP * (datum.Defense + datum['Sp. Def']) / 2", "as": "Bulk index"}, {"calculate": "datum.Speed < 50 ? 'Slow' : (datum.Speed <= 100 ? 'Mid' : 'Fast')", "as": "Speed tier"}, {"calculate": "(datum.Speed > 100 && (datum.Defense + datum['Sp. Def'] < 120)) ? true : false", "as": "Glass cannon"}, {"joinaggregate": [{"op": "count", "as": "N"}]}, {"window": [{"op": "rank", "as": "speed_rank"}], "sort": [{"field": "Speed", "order": "descending"}]}, {"window": [{"op": "rank", "as": "bulk_rank"}], "sort": [{"field": "Bulk index", "order": "descending"}]}, {"calculate": "datum.speed_rank <= datum.N * 0.20 ? true : false", "as": "Top20_sweeper"}, {"calculate": "datum.speed_rank <= datum.N * 0.10 ? true : false", "as": "Top10_sweeper"}, {"calculate": "datum.bulk_rank <= datum.N * 0.15 ? true : false", "as": "Top15_bulk"}, {"calculate": "datum.bulk_rank <= datum.N * 0.10 ? true : false", "as": "Top10_bulk"}, {"calculate": "(datum.speed_rank - 1) / (datum.N - 1)", "as": "speed_pct"}, {"calculate": "(datum.bulk_rank - 1) / (datum.N - 1)", "as": "bulk_pct"}], "layer": [{"mark": {"type": "point", "filled": true, "tooltip": true}, "encoding": {"x": {"field": "Speed", "type": "quantitative", "title": "Speed (turn order)"}, "y": {"field": "Bulk index", "type": "quantitative", "title": "Bulk index = HP * (Defense + Sp. Def) / 2"}, "color": {"field": "Type 1", "type": "nominal", "title": "Primary type"}, "size": {"field": "Total", "type": "quantitative", "title": "Total base stat (size)"}, "opacity": {"condition": {"test": "datum.Top20_sweeper || datum.Top15_bulk || datum['Glass cannon'] || datum.Top10_sweeper || datum.Top10_bulk", "value": 1}, "value": 0.25}, "tooltip": [{"field": "Name", "type": "nominal", "title": "Name"}, {"field": "Type 1", "type": "nominal", "title": "Type 1"}, {"field": "Type 2", "type": "nominal", "title": "Type 2"}, {"field": "Speed", "type": "quantitative", "title": "Speed"}, {"field": "Bulk index", "type": "quantitative", "title": "Bulk index"}, {"field": "Total", "type": "quantitative", "title": "Total"}, {"field": "Speed tier", "type": "nominal", "title": "Speed tier"}, {"field": "Glass cannon", "type": "nominal", "title": "Glass-cannon"}, {"field": "Top20_sweeper", "type": "nominal", "title": "Top 20% Sweeper"}, {"field": "Top10_sweeper", "type": "nominal", "title": "Top 10% Sweeper"}, {"field": "Top15_bulk", "type": "nominal", "title": "Top 15% Bulk"}, {"field": "Top10_bulk", "type": "nominal", "title": "Top 10% Bulk"}]}}, {"mark": {"type": "rule", "strokeDash": [4, 4], "color": "#666", "size": 1}, "encoding": {"x": {"value": 50}, "y": {"value": 0}, "y2": {"signal": "height"}}}, {"mark": {"type": "rule", "strokeDash": [4, 4], "color": "#666", "size": 1}, "encoding": {"x": {"value": 100}, "y": {"value": 0}, "y2": {"signal": "height"}}}, {"title": "Bulk thresholds (top 10% and 15% by Bulk)", "data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "datum.HP * (datum.Defense + datum['Sp. Def']) / 2", "as": "Bulk index"}, {"joinaggregate": [{"op": "count", "as": "N"}]}, {"window": [{"op": "rank", "as": "bulk_rank"}], "sort": [{"field": "Bulk index", "order": "descending"}]}, {"filter": "datum.bulk_rank <= (datum.N * 0.10)"}, {"aggregate": [{"op": "max", "field": "Bulk index", "as": "bulk_10_threshold"}]}], "mark": {"type": "rule", "color": "#d62728", "strokeWidth": 2}, "encoding": {"y": {"field": "bulk_10_threshold", "type": "quantitative"}, "x": {"value": 0}, "x2": {"signal": "width"}, "tooltip": [{"field": "bulk_10_threshold", "type": "quantitative", "title": "Bulk (top 10%)"}]}}, {"data": {"url": "https://raw.githubusercontent.com/the-lord-of-stars/mini-template/dev-yuhan/studio/testing/pokemon/Pokemon.csv", "format": {"type": "csv"}}, "transform": [{"calculate": "datum.HP * (datum.Defense + datum['Sp. Def']) / 2", "as": "Bulk index"}, {"joinaggregate": [{"op": "count", "as": "N"}]}, {"window": [{"op": "rank", "as": "bulk_rank"}], "sort": [{"field": "Bulk index", "order": "descending"}]}, {"filter": "datum.bulk_rank <= (datum.N * 0.15)"}, {"aggregate": [{"op": "max", "field": "Bulk index", "as": "bulk_15_threshold"}]}], "mark": {"type": "rule", "color": "#ff7f0e", "strokeWidth": 2, "strokeDash": [2, 2]}, "encoding": {"y": {"field": "bulk_15_threshold", "type": "quantitative"}, "x": {"value": 0}, "x2": {"signal": "width"}, "tooltip": [{"field": "bulk_15_threshold", "type": "quantitative", "title": "Bulk (top 15%)"}]}}], "resolve": {"legend": {"direction": "vertical"}}, "title": "Speed vs Bulk index \u2014 identifying fast sweepers and bulky pivots", "width": 700, "height": 480}, {
            actions: false,
            renderer: 'canvas',
          })
          .catch(console.error);
        </script>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">A final practical visualization identifies actionable Speed and Bulk thresholds: using empirical percentiles, pick sweepers from the 80th–90th Speed percentile (≈Speed ≥95–106) and bulky pivots from the Bulk index 85th–90th percentiles (≈Bulk ≥8,400–9,450). Fast candidates are about 10–20% of the Pokédex and bulk candidates about 10–15%, giving a manageable pool to search when constructing teams. The scatter highlights the rare glass‑cannons (fast and low defense sum) so players can spot and avoid or slot them deliberately. Use these percentile cutoffs as concrete selection filters when drafting.</p>
        </p>
      </div>
    </div>
    <div class='my-8'>
      <div class='bg-gray-50 rounded-lg shadow-sm p-4'>
        <p class='text-red-600'>Error loading visualization</p>
        <p class='text-sm text-gray-600 mt-2 text-center'>
          <p class="text-gray-700 leading-relaxed mb-4">Examining raw 4× weaknesses across dual types shows most Pokémon (≈80.5%) have no 4× weakness, about 16.4% have exactly one, and only ≈3.1% have two or more. The attacking types most often responsible for 4× weaknesses include Grass, Ice and Rock. Team simulations indicate that random teams rarely accumulate multiple shared 4× weaknesses (only ≈5.9% have at least one shared 4× and ≈0.4% have two or more), so a practical rule is to allow at most one shared 4× weakness per team; exceeding that is uncommon and risky. Remember this is raw dual-type analysis only and ignores abilities, moves and held items that often mitigate or exploit these multipliers.</p>
        </p>
      </div>
    </div>
  </div>
</section>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const toc = document.getElementById('toc');
  if (!toc) return;

  const headers = document.querySelectorAll('article h2, article h3');
  headers.forEach(h => {
    let id = h.textContent.trim().replace(/\s+/g, '-').toLowerCase();
    h.setAttribute('id', id);

    const link = document.createElement('a');
    link.href = '#' + id;
    link.textContent = h.textContent;
    link.className = (h.tagName === 'H2'
      ? 'block font-semibold mb-1'      : 'block ml-4 text-gray-500') + ' hover:text-primary-600';

    toc.appendChild(link);
  });
});
</script>
    </article>
  </main>
  <footer class='border-t mt-12 py-6 text-center text-sm text-gray-500'>
    © 2025 Agentic VIS
  </footer>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
  const tocList = document.getElementById('toc-list');
  const headers = document.querySelectorAll('article h2, article h3');
  const links = [];

  headers.forEach((h, idx) => {
    let id = h.textContent.trim().replace(/\s+/g, '-').toLowerCase() + '-' + idx;
    h.setAttribute('id', id);

    const li = document.createElement('li');
    li.className = 'flex items-center space-x-2';

    const dot = document.createElement('span');
    dot.className = 'w-2 h-2 rounded-full border border-gray-300';
    li.appendChild(dot);

    const link = document.createElement('a');
    link.href = '#' + id;

    const text = h.textContent.trim();
    link.textContent = text.length > 40 ? text.slice(0, 37) + '…' : text;
    link.title = text;

    link.className = 'block truncate text-gray-400 hover:text-gray-600';
    if (h.tagName === 'H3') {
      link.className += ' ml-4';
    }

    link.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.getElementById(id);
      if (target) {
        const y = target.getBoundingClientRect().top + window.scrollY - 100;
        window.scrollTo({ top: y, behavior: 'smooth' });
      }
    });

    li.appendChild(link);
    tocList.appendChild(li);
    links.push({id, link, el: h, dot});
  });

  function onScroll() {
    let scrollPos = document.documentElement.scrollTop || document.body.scrollTop;
    let current;
    links.forEach(item => {
      if (item.el.offsetTop - 120 <= scrollPos) {
        current = item;
      }
    });
    links.forEach(item => {
      item.link.classList.remove('font-semibold', 'text-black');
      item.link.classList.add('text-gray-400');
      item.dot.className = 'w-2 h-2 rounded-full border border-gray-300';
    });
    if (current) {
      current.link.classList.remove('text-gray-400');
      current.link.classList.add('font-semibold', 'text-black');
      current.dot.className = 'w-2 h-2 rounded-full bg-black';
    }
  }
  window.addEventListener('scroll', onScroll);
  onScroll();
});
</script>
<script>
window.addEventListener('scroll', function () {
  const docHeight = document.documentElement.scrollHeight - window.innerHeight;
  const scrollTop = window.scrollY || document.documentElement.scrollTop;
  const progress = (scrollTop / docHeight) * 100;
  document.getElementById('progress-bar').style.width = progress + '%';
});
</script></body>
</html>